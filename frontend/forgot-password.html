<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password - Surpace</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/forgot-password.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
</head>
<body>
    <header>
        <div class="logo">
            <img src="/assets/logos/surpace.png" alt="Surpace Logo" width="100" height="100">
        </div>
    </header>

    <section class="forgot-password-section" id="app">
        <div class="forgot-password-container">
            <h2>Forgot Your Password?</h2>
            <p>Enter your email address below, and we'll send you instructions to reset your password.</p>

            <!-- Vue.js Form Binding -->
            <form @submit.prevent="submitForm">
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" v-model="email" id="email" placeholder="Enter your registered email" required>
                    <span v-if="errorMessage" class="error-message">{{ errorMessage }}</span>
                </div>
                <button type="submit" class="submit-btn" :disabled="isSubmitting">Send Reset Instructions</button>
            </form>
            <p class="login-link">Remember your password? <a href="login.html">Login</a></p>
        </div>
    </section>

    <footer>
        <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
        </div>
    </footer>

    <script>
        new Vue({
            el: '#app',
            data: {
                email: '',
                errorMessage: '',
                isSubmitting: false
            },
            methods: {
                submitForm: function() {
                    this.errorMessage = ''; // Clear previous error
                    this.isSubmitting = true;
                    
                    // Perform basic email validation
                    if (!this.validateEmail(this.email)) {
                        this.errorMessage = 'Please enter a valid email address.';
                        this.isSubmitting = false;
                        return;
                    }

                    // Here, you'd normally send the data to the server, e.g. using Axios:
                    // axios.post('/api/forgot-password', { email: this.email })
                    //     .then(response => {
                    //         alert('Check your email for password reset instructions');
                    //     })
                    //     .catch(error => {
                    //         this.errorMessage = 'An error occurred. Please try again later.';
                    //     })
                    //     .finally(() => {
                    //         this.isSubmitting = false;
                    //     });

                    // Simulating API call success for demonstration
                    setTimeout(() => {
                        alert('Check your email for password reset instructions');
                        this.isSubmitting = false;
                    }, 1000);
                },

                validateEmail: function(email) {
                    const re = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
                    return re.test(email);
                }
            }
        });
    </script>
</body>
</html>
